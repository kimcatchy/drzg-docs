{%- set class = "md-header" -%}
{%- if "navigation.tabs.sticky" in features -%}
  {%- set class = class ~ " md-header--lifted" -%}
{%- elif "navigation.tabs" in features -%}
  {%- set class = class ~ " md-header--shadow md-header--lifted" -%}
{%- else -%}
  {%- set class = class ~ " md-header--shadow" -%}
{%- endif -%}
<header class="{{ class }}" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header navigation">
    <a
      href="{{ config.extra.homepage | d(nav.homepage.url, true) | url }}"
      title="{{ config.site_name | e }}"
      class="md-header__button md-logo"
      aria-label="{{ config.site_name | e }}"
      data-md-component="logo"
    >
      {%- include "partials/logo.html" -%}
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      {%- include ".icons/material/menu.svg" -%}
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            {{ config.site_name }}
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            {%- if page and page.meta and page.meta.title -%}
              {{ page.meta.title }}
            {%- elif page and page.title -%}
              {{ page.title }}
            {%- else -%}
              {{ config.site_name }}
            {%- endif -%}
          </span>
        </div>
      </div>
    </div>
    {%- if config.extra.alternate -%}
      <div class="md-header__option">
        <div class="md-select">
          <button
            class="md-header__button md-icon"
            aria-label="언어 선택"
          >
            {%- include ".icons/material/translate.svg" -%}
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              {%- for alt in config.extra.alternate -%}
                <li class="md-select__item">
                  <a
                    href="{{ alt.link | url }}"
                    hreflang="{{ alt.lang | e }}"
                    class="md-select__link"
                  >
                    {{ alt.name }}
                  </a>
                </li>
              {%- endfor -%}
            </ul>
          </div>
        </div>
      </div>
    {%- endif -%}
    {%- if "material/search" in config.plugins -%}
      <label class="md-header__button md-icon" for="__search">
        {%- include ".icons/material/magnify.svg" -%}
      </label>
      {%- include "partials/search.html" -%}
    {%- endif -%}
    {%- if config.repo_url -%}
      <div class="md-header__source">
        {%- include "partials/source.html" -%}
      </div>
    {%- endif -%}
    
    <!-- 커스텀 다램지굴 버튼 추가 (헤더 우측 끝) -->
    <div class="md-header__option">
      <a 
        href="https://drzg.win" 
        class="md-header__button drzg-home-button" 
        title="다램지굴로 돌아가기"
        target="_blank"
      >
        <span class="drzg-home-button__inner">
          🌰 다램지굴
        </span>
      </a>
    </div>
    
  </nav>
  {%- if "navigation.tabs.sticky" in features -%}
    {%- if "navigation.tabs" in features -%}
      {%- include "partials/tabs.html" -%}
    {%- endif -%}
  {%- endif -%}
</header>
